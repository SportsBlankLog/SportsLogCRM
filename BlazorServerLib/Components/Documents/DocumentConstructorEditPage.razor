@page "/journal-{DocumentNameOrId}/document"
@page "/journal-{DocumentNameOrId}/document/"
@page "/journal-{DocumentNameOrId}/document/{DocumentKey}"

@page "/journal-{DocumentNameOrId}/project-{ProjectId}/document"
@page "/journal-{DocumentNameOrId}/project-{ProjectId}/document/"
@page "/journal-{DocumentNameOrId}/project-{ProjectId}/document/{DocumentKey}"

<h3>DocumentEditPage</h3>

@if (string.IsNullOrWhiteSpace(DocumentNameOrId))
{
    <figure>
        <blockquote class="blockquote">
            <p>Не указано имя журнала.</p>
        </blockquote>
        <figcaption class="blockquote-footer">
            Требуется указать <cite title="Имя типа данных документа">имя журнала/документа</cite>
        </figcaption>
    </figure>
}
else if (int.TryParse(DocumentKey, out int _i))
{
    <DocumentEditConstructorComponent DocumentNameOrId="@DocumentNameOrId" ProjectId="ProjectId" DocumentKey="_i" />
}
else
{
    <DocumentEditConstructorComponent DocumentNameOrId="@DocumentNameOrId" ProjectId="ProjectId" DocumentKey="null" />
}

@code {
    /// <summary>
    /// Тип документа
    /// </summary>
    [Parameter]
    public string? DocumentNameOrId { get; set; }

    /// <summary>
    /// ProjectId
    /// </summary>
    [Parameter]
    public string? DocumentKey { get; set; }

    /// <summary>
    /// Project Id
    /// </summary>
    [Parameter]
    public int? ProjectId { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }
}