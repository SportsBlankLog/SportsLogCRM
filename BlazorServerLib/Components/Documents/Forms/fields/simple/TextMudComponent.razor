@rendermode @(new InteractiveServerRenderMode(prerender: false))

@inherits FieldBaseComponentModel

<MudTextField @bind-Value="StringValue" HelperText="@Hint" Label="@Label" Required="@Required" Variant="Variant.Text" InputId="@Id"></MudTextField>

@code {
    /// <summary>
    /// Поле является паролем
    /// </summary>
    [Parameter]
    public bool AsPassword { get; set; }

    [Parameter]
    public string? Value { get; set; }
    string? _value;

    [Parameter]
    public EventCallback<string?> ValueChanged { get; set; }

    
    public override bool IsEdited => Value != _value;

    string? StringValue
    {
        get => Value;
        set
        {
            Value = value;
            ValueChanged.InvokeAsync(Value);
        }
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _value = Value;
    }
}