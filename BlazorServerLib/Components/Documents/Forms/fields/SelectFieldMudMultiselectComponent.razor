@inherits FieldBaseComponentModel

<MudSelect T="EntryModel" Label="@Label" HelperText="@Hint" MultiSelection="true" @bind-SelectedValues="EntriesValues" ToStringFunc="converter">
    @if (Entries?.Any() == true)
    {
        @foreach (EntryModel d in Entries)
        {
            <MudSelectItem T="EntryModel" Value="@d">@d.Name</MudSelectItem>
        }
    }
</MudSelect>

@code {
    [Parameter]
    public IEnumerable<EntryModel>? Entries { get; set; }

    [Parameter]
    public EntryModel[]? Value { get; set; }

    [Parameter]
    public EventCallback<EntryModel[]?> ValueChanged { get; set; }


    Func<EntryModel?, string> converter = p => p?.Name ?? "";

    public IEnumerable<EntryModel>? EntriesValues
    {
        get => Value;
        set
        {
            if (value is not null)
                Value = [.. value];
            else
                Value = null;

            ValueChanged.InvokeAsync(Value);
        }
    }
}