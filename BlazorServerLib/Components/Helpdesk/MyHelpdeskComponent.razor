@using MudBlazor
<br />
<CascadingValue Value="SetTab">
    <TabSetComponent IsSilent="true" AsPills="true">
        <CascadingValue Value="Request">
            <TabComponent SystemName="@(nameof(HelpdeskJournalModesEnum.ActualOnly))" Title="В работе">
                <HelpdeskJournalComponent JournalMode="HelpdeskJournalModesEnum.ActualOnly" />
            </TabComponent>
            <TabComponent SystemName="@(nameof(HelpdeskJournalModesEnum.ArchiveOnly))" Title="Завершённые">
                <HelpdeskJournalComponent JournalMode="HelpdeskJournalModesEnum.ArchiveOnly" />
            </TabComponent>
            <TabComponent SystemName="@(nameof(HelpdeskJournalModesEnum.All))" Title="Все">
                <HelpdeskJournalComponent JournalMode="HelpdeskJournalModesEnum.All" />
            </TabComponent>
        </CascadingValue>
    </TabSetComponent>
</CascadingValue>
<CreateIssueComponent Update="Update" />

@code {
    [Parameter]
    public required GetIssuesForUserRequestModel Request { get; set; }

    HelpdeskJournalComponent? _tab;

    void Update()
    {
        _tab?.TableRef.ReloadServerData();
    }

    void SetTab(HelpdeskJournalComponent page)
    {
        _tab = page;
    }
}